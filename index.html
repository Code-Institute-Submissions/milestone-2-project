<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Medical Practices</title>

    <link rel="stylesheet" href="static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="static/css/dc.min.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="static/css/style.css" type="text/css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAXZnNo1jX7V4KYEjBEcCVR73OgG-lSzIM&callback=initMap"></script>
    <script type="text/javascript" src="static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="static/js/d3.min.js"></script>
    <script type="text/javascript" src="static/js/crossfilter.min.js"></script>
    <script type="text/javascript" src="static/js/dc.min.js"></script>
    <script type="text/javascript" src="static/js/queue.min.js"></script>

    <script type="text/javascript" src="static/js/map.js"></script>
    <script type="text/javascript" src="static/js/graph.js"></script>
    <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            emailjs.init("user_otJXtwN3f0lIaupelyNZO");
        })();
    </script>



</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#">Medical Services</a>
                </div>
            </div>
            <div>
                <button class="btn btn-secondary my-2 my-sm-0" data-toggle="modal" data-target="#emailModal">Contact</button>
            </div>
        </nav>
    </header>
    <main>
        <!--Google Map API, Appointment Proportions Numbers and Pie-Charts-->
        <section class="section">
            <div class="container">
                <div class="col-xs-12">
                    <h1 class="section-heading">Your Local Medical Services</h1>
                </div>
                <div class="row">
                    <div class="col-xs-12 col-md-6">
                        <h4 class="section-heading">Medical Centre Type:</h4>
                        <small>
                            <a href="javascript:dc.filterAll(); dc.renderAll();">Reset</a>
                        </small>
                        <br>
                        <div id="service_type_selector" class="list-box"></div>
                    </div>
                    <div class="col-xs-12 col-md-6">
                        <h4 id="bookmark1" class="section-heading">Medical Centre Name:</h4>
                        <small>
                            <a href="javascript:dc.filterAll(); dc.renderAll();">Reset</a>
                        </small>
                        <br>
                        <div id="facility_name_selector" class="list-box"></div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Average Waiting Times Bar Chart and Staff Numbers Per facility Stack Chart-->
        <section class="section">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-md-6">
                        <h2 class="section-heading">Geographic Locations of Medical Facilities</h2>
                        <div id="map" class="custom-chart">Map</div>
                        <br>
                        <p>Each medical facility has its own location identified on the map. Hover over the pin to see the facility
                            name, or click on it to see the facility type. Use CTRL+Mouse Scroll to zoom in and out of the
                            map.
                        </p>
                    </div>
                    <div class="col-xs-12 col-md-6">
                        <H2 class="section-heading">Appointment Proportions |
                            <small>
                                <a href="javascript:dc.filterAll(); dc.renderAll();">Reset</a>
                            </small>
                        </H2>
                        <div class="row">
                            <div class="col-xs-12 col-md-6">
                                <i class="fa fa-exclamation-circle" aria-hidden="true"> Urgent Visits: </i>
                                <span class="number-box" id="urgent_appointments"></span>
                            </div>
                            <div class="row">
                                <div id="urgent_type_pie" class="pie-chart col-12"></div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-6">
                                <i class="fa fa-plus-circle" aria-hidden="true"> Routine Visits: </i>
                                <span class="number-box" id="routine_appointments"></span>
                            </div>

                            <div class="row">

                                <div id="routine_type_pie" class="pie-chart col-12"></div>
                            </div>
                            <p>Medical facilities have been categorised into Hospitals, Medical Centres, Medical Clinics, Walk-in
                                Clinics and local General Practice services. The Pie-Charts above show the visual proportions
                                of all the urgent and routine visits respectively. If one type of facility is selected, then
                                the pie-chat will show 100% for that one type. Click
                                <a class="paragraph-link" href="javascript:dc.filterAll(); dc.renderAll();">here</a> to reset the charts.
                        </div>
                    </div>
                </div>
        </section>
        <!--Proportion of Services per Facility Line Chart-->
        <section class="section">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-md-6">
                        <h2 class="section-heading">Average Waiting Times |
                            <small>
                                <a href="javascript:dc.filterAll();dc.renderAll();">Reset</a>
                            </small>
                        </h2>
                        <div id="ave_waiting_times" class="custom-chart col-12"></div>
                    </div>
                    <div class="col-xs-12 col-md-6">
                        <h2 class="section-heading">Staff Numbers Per Facility |
                            <small>
                                <a href="javascript:dc.filterAll();dc.renderAll();">Reset</a>
                            </small>
                        </h2>
                        <div id="staff_numbers" class="custom-chart col-12"></div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Departments and Services Table-->
        <section>
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-md-6">
                        <h2 class="section-heading">Proportion of Services Per Facility |
                            <small>
                                <a href="javascript:dc.filterAll();dc.renderAll();">Reset</a>
                            </small>
                        </h2>
                    </div>
        </section>
        <section>
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-md-12">
                        <div id="departments" class="custom-chart"></div>
                    </div>
                </div>
                <div class="row">
                    <h2 class="section-heading">Departments/Services Available |
                        <small>
                            <a href="javascript:dc.filterAll();dc.renderAll();">Reset</a>
                        </small>
                    </h2>
                    <p>Selecting any of the facility types on a chart above, will filter the list below. 
                        This table has more detailed information about the services and departments 
                        offered by each of the facilities.  By selecting a specific practice name from 
                        the drop-down <a class="bookmark" href="#bookmark1">medical centre name</a> list above, you can refine your search better.</p>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <table id="data-table" class="table table-bordered table-striped">
                            <thead>
                                <tr class="header">
                                    <th>Facility Name</th>
                                    <th colspan="12">Services and Departments</th>
                                </tr>
                            </thead>
                        </table>
                        <a class="backToTop" href="#" target="_top">back to the top</a>
                    </div>
        </section>
        <!-- Email Modal -->
        <div class="modal" id="emailModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2">
            <div class="modal-dialog" role="document">

                <!-- Modal content -->
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="myModalLabel2">Contact Us</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-wlabel="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <section>
                        <div class="row">
                            <p class="modal-text">This project is for demonstration purposes only and 
                                is part of a college milestone project for assessment.  The data for the 
                                medical sites relating to staff numbers and services is not accurate, 
                                but does have real world applications. If you like this dashboard and 
                                would like to know more about how it works, please contact the
                                developer below, or click <a  class="modal-link"href="https://github.com/ddeveloper72" target="_blank">here</a> 
                                for information about the developer.</p>
                        </div>
                    </section>
                    <div class="modal-body">
                        <form id="contactForm" onsubmit="return sendMail(this);" method="POST">
                            <input type="text" name="name" class="form-control" id="fullname" autocomplete="name" placeholder="Name" required/>
                            <input type="text" name="emailaddress" class="form-control" id="emailaddress" autocomplete="email" placeholder="Email" required/>
                            <textarea rows="5" name="messagesummary" class="form-control" id="messagesummary" placeholder="Your message here" required></textarea>
                            <button id="submit" type="submit" class="btn btn-secondary center-block">Send Message</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script type="text/javascript" src="static/js/sendEmail.js"></script>
</body>

</html>