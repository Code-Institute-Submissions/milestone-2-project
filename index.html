<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Medical Practices</title>

    <!-- Bootstrap Styles -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

    <!-- dc-charts Styles -->
    <link rel="stylesheet" href="static/css/dc.min.css" type="text/css" />

    <!-- Font Awesome Styles -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
        crossorigin="anonymous">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="static/css/style.css" type="text/css" />

    <!-- Google Maps Scripts -->
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAXZnNo1jX7V4KYEjBEcCVR73OgG-lSzIM&callback=initMap"></script>

    <!-- Bootstrap Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <script src="static/js/d3.min.js"></script>
    <script src="static/js/crossfilter.min.js"></script>
    <script src="static/js/dc.min.js"></script>
    <script src="static/js/queue.min.js"></script>


    <!-- Project js files -->
    <script src="static/js/map.js"></script>
    <script src="static/js/graph.js"></script>

    <!-- Emailjs interface -->
    <script type="text/javascript" src="https://cdn.emailjs.com/sdk/2.3.2/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            emailjs.init("user_otJXtwN3f0lIaupelyNZO");
        })();
    </script>

</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#"><i class="fas fa-user-md"></i> Medical Services</a>
                </div>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
                    aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                About</a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" data-toggle="modal" data-target="#emailModal"><i class="far fa-paper-plane"></i>
                                    Contact</a>
                                <a class="dropdown-item" href="https://github.com/ddeveloper72/milestone-2-project/blob/master/README.md" target="_blank" ><i class="fas fa-info-circle"></i> Readme</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <!--Page Heading and Medical Centre Type and Medical Centre Name Selectors-->

        <div class="container">
            <div class="col-12 -col-sm">
                <h1 class="card-title">Your Local Medical Services</h1>
            </div>
            <div class="row">
                <div class="col-12 col-sm">
                    <h4 class="card-title">Medical Centre Type:</h4>
                    <small>
                        <a href="javascript:dc.filterAll(); dc.renderAll();" class="btn btn-sm" data-toggle="tooltip"
                            data-placement="right" title="Select to reset">Reset</a>
                    </small>
                    <br>
                    <div id="service_type_selector" class="list-box"></div>
                </div>
                <div class="col-12 col-sm">
                    <h4 id="bookmark1" class="card-title">Medical Centre Name:</h4>
                    <small>
                        <a href="javascript:dc.filterAll(); dc.renderAll();" class="btn btn-sm" data-toggle="tooltip"
                            data-placement="right" title="Select to reset">Reset</a>
                    </small>
                    <br>
                    <div id="facility_name_selector" class="list-box"></div>
                </div>
            </div>
        </div>

        <!--Google Map API, Appointment Proportions Numbers and Pie-Charts-->

        <div class="container">
            <div class="row">

                <div class="card col-12 col-sm">
                    <div class="card-body">
                        
                            <h2 class="card-title">Geographic Locations of Medical Facilities</h2>
                            <br>
                            <div id="map" class="custom-chart">Map</div>
                            <div class="card-body">
                                <p class="card-text">Each medical facility has its own location identified on the map.
                                    Hover over the pin to see the facility
                                    name, or click on it to see the facility type. Use CTRL+Mouse Scroll to zoom in and
                                    out of the
                                    map.</p>
                            </div>
                        </div>                   
                </div>

                
                <div class="card col-12 col-sm">
                    <div class="card-body">

                            <div class="col-12">
                                <h2 class="card-title">Appointment Proportions |
                                    <small>
                                        <a href="javascript:dc.filterAll(); dc.renderAll();" class="btn btn-sm"
                                            data-toggle="tooltip" data-placement="right" title="Select to reset">Reset</a>
                                    </small>
                                </h2>
                                <div class="row">
                                    <div class="col-12">
                                        <i class="fas fa-exclamation-circle" aria-hidden="true"> Urgent Visits: </i>
                                        <span class="number-box" id="urgent_appointments"></span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <div id="urgent_type_pie" class="pie-chart center"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <i class="fas fa-plus-circle" aria-hidden="true"> Routine Visits: </i>
                                        <span class="number-box" id="routine_appointments"></span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <div id="routine_type_pie" class="pie-chart center"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="card-text">
                                            <p>Medical facilities have been categorised into Hospitals, Medical
                                                Centres, Medical Clinics, Walk-in
                                                Clinics and local General Practice services. The Pie-Charts above show
                                                the visual proportions
                                                of all the urgent and routine visits respectively. If one type of
                                                facility is selected,
                                                then the pie-chat will show 100% for that one type. Click
                                                <a class="paragraph-link" href="javascript:dc.filterAll(); dc.renderAll();">
                                                    here</a> to reset the charts.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                
            </div>
        </div>

        <!-- Average Waiting Times Bar Chart and Staff Numbers Per facility Stack Chart-->

        <div class="container mt-auto">
            <div class="row">
                <div class="card col-12 col-sm">
                    <div class="card-body">
                        <h2 class="card-title">Average Waiting Times |
                            <small>
                                <a href="javascript:dc.filterAll();dc.renderAll();" class="btn btn-sm" data-toggle="tooltip"
                                    data-placement="right" title="Select to reset">Reset</a>
                            </small>
                        </h2>
                        <div id="ave_waiting_times" class="custom-chart col-12"></div>
                    </div>
                </div>
                <div class="card col-12 col-sm">
                    <div class="card-body">
                        <h2 class="card-title">Staff Numbers Per Facility |
                            <small>
                                <a href="javascript:dc.filterAll();dc.renderAll();" class="btn btn-sm" data-toggle="tooltip"
                                    data-placement="right" title="Select to reset">Reset</a>
                            </small>
                        </h2>
                        <div id="staff_numbers" class="custom-chart col-12 col-sm"></div>
                    </div>
                </div>
            </div>
        </div>

        <!--Proportion of Services per Facility Line Chart and Patient visits Per facility line Chart-->

        <div class="container mt-auto">
            <div class="row">
                <div class="card col-12 col-sm">
                    <div class="card-body">
                        <h2 class="card-title">Proportion of Services per Facility |
                            <small>
                                <a href="javascript:dc.filterAll();dc.renderAll();" class="btn btn-sm" data-toggle="tooltip"
                                    data-placement="right" title="Select to reset">Reset</a>
                            </small>
                        </h2>
                        <div id="departments" class="custom-chart col-12"></div>
                    </div>
                </div>
                <div class="card col-12 col-sm">
                    <div class="card-body">
                        <h2 class="card-title">Patient Visits Per Type of Facility |
                            <small>
                                <a href="javascript:dc.filterAll();dc.renderAll();" class="btn btn-sm" data-toggle="tooltip"
                                    data-placement="right" title="Select to reset">Reset</a>
                            </small>
                        </h2>
                        <div id="composite-chart" class="custom-chart col-12"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Departments and Services Table-->

        <div class="container mt-auto">
            <div class="row">
                <div class="card col-12 col-sm">
                    <div class="card-body d-xs-block d-sm-none">
                        <h2 class="card-title">
                            <i class="fas fa-retweet"></i>
                            Departments/Services Available</h2>

                        <p class="card-text">There are a large number of departments and services available.
                            To see the departments and services table on smaller screens,
                            please view this site in portrait, then refresh the page.
                        </p>
                    </div>



                    <div class="card-body col d-none d-sm-block">
                        <h2 class="card-title">Departments/Services Available |
                            <small>
                                <a href="javascript:dc.filterAll();dc.renderAll();" class="btn btn-sm" data-toggle="tooltip"
                                    data-placement="right" title="Select to reset">Reset</a>
                            </small>
                        </h2>
                        <p class="card-text">Selecting any of the facility types on a chart above, will filter the list
                            below. This table has
                            more detailed information about the services and departments offered by each of the
                            facilities.
                            By selecting a specific practice name from the drop-down
                            <a class="bookmark" href="#bookmark1">medical centre name</a> list above, you can refine
                            your search better.</p>

                        <div class="col-sm table">
                            <table id="table_data" class="table data_table">
                                <thead>
                                    <tr class="header">
                                        <th>Facility</th>
                                        <th>Type</th>
                                        <th colspan="11">Services and Departments</th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                        <div class="row ml-0">
                            <div id="paging">
                                Showing
                                <span id="begin"></span>-
                                <span id="end"></span> of
                                <span id="size"></span>.
                                <input id="last" class="btn btn-primary btn-sm" type="Button" value="Last" onclick="javascript:last()"
                                    disabled="true">
                                <input id="next" class="btn btn-primary btn-sm" type="button" value="Next" onclick="javascript:next()">
                                <a class="backToTop" href="#" target="_top">back to the top</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Email Modal -->

        <div class="modal" id="emailModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2">
            <div class="modal-dialog" role="document">

                <!-- Modal content -->
                <div class="modal-content col-xs-12">
                    <div class="modal-header">
                        <h5 class="modal-title" id="myModalLabel2">Contact Us</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <section>
                        <div class="row">
                                                    
                            <p class="modal-text">This project is for demonstration purposes only and is part of a
                                college milestone project for
                                assessment. The data for the medical sites relating to staff numbers and services is
                                not
                                accurate, but does have real world applications. If you like this dashboard and would
                                like
                                to know more about how it works, please contact the developer below, or click
                                <a class="modal-link" href="https://github.com/ddeveloper72" target="_blank">here</a>
                                for information about the developer.</p>
                        </div>
                    </section>
                    <div class="modal-body">
                        <form method="POST" onsubmit="return sendMail(this);" name="sentMessage" id="contactForm">
                            <div class="control-group">
                                <div class="form-group floating-label-form-group controls">
                                    <label>Name</label>
                                    <input type="text" class="form-control" placeholder="Name" name="name" id="name"
                                        required data-validation-required-message="Please enter your name.">
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="control-group">
                                <div class="form-group floating-label-form-group controls">
                                    <label>Email Address</label>
                                    <input type="email" class="form-control" placeholder="Email Address" name="email"
                                        id="email" required data-validation-required-message="Please enter your email address.">
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="control-group">
                                <div class="form-group col-xs-12 floating-label-form-group controls">
                                    <label>Phone Number</label>
                                    <input type="tel" class="form-control" placeholder="Phone Number" name="number" id="phone"
                                        required data-validation-required-message="Please enter your phone number.">
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="control-group">
                                <div class="form-group floating-label-form-group controls">
                                    <label>Message</label>
                                    <textarea rows="5" class="form-control" placeholder="Message" name="message" id="message"
                                        required data-validation-required-message="Please enter a message."></textarea>
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <br>
                            <div id="success"></div>
                            <div class="form-group">
                                <div class="row">
                                        <div class="col-md-2">
                                            <button type="submit" class="btn btn-primary " id="sendMessageButton">Send</button>
                                        </div>
                                        <div class="col-md-6 ml-auto">
                                            <span class="text-muted">Milestone 2 project for the Code Institute by Duncan Falconer, 2018</span>
                                        </div>
                                </div>                         
                            </div>                         
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <footer class="mt-auto py-3">
            <div class="container">
                <h6><span class="text-muted">Milestone 2 project for the Code Institute <br />by Duncan Falconer, 2018</span></h6>
            </div>
        </footer>
    </main>

    <script src="static/js/sendEmail.js"></script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
</body>

</html>